<!DOCTYPE html>
<html>

<head>
    <style>
        .container {
            text-align: center;
        }
        
        .captcha_btn {
            display: inline-block;
        }
    </style>

</head>

<body onload="captcha_generation()">
    <div>
        <p><span id="num1"></span><span id="op"></span><span id="num2"></span>=
            <input type="text" id="user_result" /></p>
        <div class="container">
            <button class="captcha_btn" onclick="captch_verification()">Verify Captcha</button>
            <button class="captcha_btn" onclick="captcha_generation(); return false;">Refresh Captcha</button>
        </div>
        <p id="result"></p>
    </div>

    <script>
        function captcha_generation() {
            var op_arr = ['+', '-', '*', '/'];
            var num1 = document.getElementById("num1");
            var num2 = document.getElementById("num2");
            var op = document.getElementById("op");
            var no1 = Math.floor((Math.random() * 100) + 1);
            var no2 = Math.floor((Math.random() * 100) + 1);
            if (no1 > no2) {
                num1.innerHTML = no1;
                num2.innerHTML = no2;
            } else {
                num1.innerHTML = no2;
                num2.innerHTML = no1;
                no1 = no2;
                no2 = no1;
            }
            var opr = op_arr[Math.floor(Math.random() * 4)];
            op.innerHTML = opr;
            document.getElementById("user_result").value = "";
            document.getElementById("result").innerHTML = "";
        }

        function captch_verification() {
            var no1 = Number(document.getElementById("num1").textContent);
            var no2 = Number(document.getElementById("num2").textContent);
            var opr = document.getElementById("op").textContent;
            var expected_result;
            switch (opr) {
                case '+':
                    expected_result = no1 + no2;
                    break;
                case '-':
                    expected_result = no1 - no2;
                    break;
                case '*':
                    expected_result = no1 * no2;
                    break;
                case '/':
                    expected_result = Math.round(no1 / no2);
                    break;
            }
            var user_result = Number(document.getElementById("user_result").value);
            if (expected_result === user_result) {
                document.getElementById("result").innerHTML = "Horay!! Its correct";
            } else {
                document.getElementById("result").innerHTML = "Oops!! Try again";
            }
        }
    </script>


</html>